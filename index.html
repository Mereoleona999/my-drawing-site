<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø£ÙÙƒØ§Ø± Ø±Ø³Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©</title>
  <link rel="icon" href="https://static-00.iconduck.com/assets.00/artist-palette-emoji-2048x1860-ns605395.png" type="image/png" />
  <style>
/* Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¸Ù„ Ø§Ù„ØªÙŠ ØªØºØ·ÙŠ ÙƒØ§Ù…Ù„ Ø§Ù„Ø´Ø§Ø´Ø© */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

/* Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ÙƒØ¨Ø±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ overlay */
.overlay img {
  max-width: 90vw;
  max-height: 90vh;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(0,0,0,0.5);
  cursor: default;
}

    html, body { margin: 0; padding: 0; overflow: hidden; height: 100vh; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #41493b; display: flex; align-items: center; justify-content: center; flex-direction: column; }

    /* === Ø¨ÙˆØ±Ù‚Ø± Ø¨ÙˆØªÙˆÙ† (ÙŠØ³Ø§Ø±ØŒ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù‚Ø§Ø¦Ù…Ø©) === */
    #burgerButton {
      position: fixed;
      top: 60px;
      left: 15px;      /* ØªØ­ moved to left */
      right: auto;
      z-index: 20000;
      background: #00aaff;
      color: white;
      border: none;
      padding: 10px 15px;
      font-size: 24px;
      border-radius: 8px;
      cursor: pointer;
    }
    #burgerButton:hover { background: #008ecc; }

    /* === Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ø§Ù„Ù…ØµØºÙ‘Ø± === */
    #sidebar {
      position: fixed;
      top: 120px;
      left: 10px;
      width: 200px;
      height: 700px;
      background-color: #d4f7d1;
      overflow-y: auto;
      padding: 10px;
      box-sizing: border-box;
      border-radius: 15px;
      transform: translateX(-250px);
      transition: transform 0.3s ease;
    }
    #sidebar.active { transform: translateX(0); }

    .gallery-item { margin-bottom: 12px; }
    .gallery-item img {
      width: 100%;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .gallery-item .caption {
      margin-top: 4px;
      text-align: center;
      color: #333;
      font-size: 13px;
    }

    /* ØªØ¹Ø¯ÙŠÙ„ Ø­Ø¬Ù… ÙˆÙ…Ù‚Ø§Ø³Ø§Øª Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ÙƒØ¨Ø±Ø© Ù„ØªØ¨Ù‚Ù‰ Ø¨Ø§Ø¨Ø¹Ø§Ø¯ Ø³Ù„ÙŠÙ…Ø© */
    .enlarged {
      position: fixed;
      top: 50%;
      left: 50%;
      width: auto;
      height: auto;
      max-width: 90vw;
      max-height: 90vh;
      transform: translate(-50%, -50%);
      z-index: 10000;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      border-radius: 12px;
    }

    /* === Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ === */

    #menu, #card { display: none; }
    #menu.active {
      display: grid;
      grid-template-columns: repeat(2, 160px);
      grid-auto-rows: 60px;
      gap: 20px;
      justify-content: center;
    }
    .menu-btn { width: 100%; height: 100%; font-size: 20px; border: none; border-radius: 8px; background: #ff9800; color: #fff; cursor: pointer; }
    .menu-btn:hover { background: #fb8c00; }
    .custom-btn { grid-column: span 2; }
    #card.active { display: flex; flex-direction: column; align-items: center; }
    .card { background: #a5ae9d; width: 400px; height: 320px; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); position: relative; display: flex; flex-direction: column; align-items: center; }
    .back-btn { position: fixed; top: 10px; left: 10px; background: #ff5555; color: #fff; border: none; padding: 10px 15px; font-size: 16px; border-radius: 8px; cursor: pointer; display: none; }
    .back-btn.show { display: block; }
    #score { position: fixed; top: 10px; right: 10px; font-size: 40px; color: #fff; z-index: 100; }
    h1 { margin: 0; font-size: 24px; color: white; }
    button.main { background-color: #00aaff; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 16px; cursor: pointer; margin: 15px 0; }
    button.main:hover { background-color: #008ecc; }
    #idea { font-size: 18px; font-weight: bold; color: white; max-height: 100px; overflow-y: auto; width: 100%; white-space: pre-wrap; text-align: center; }
    #timer { font-size: 20px; color: #ff5555; margin-top: 10px; }
    .time-buttons { display: flex; gap: 10px; margin-top: 15px; }
    .time-buttons button { background-color: #90be6d; border: none; font-size: 16px; cursor: pointer; border-radius: 8px; padding: 6px 12px; transition: background-color 0.2s; }
    .time-buttons button:hover { background-color: #6a9e4d; }
    .point-buttons { display: none; margin-top: 15px; gap: 10px; justify-content: center; }
    .point-buttons button { white-space: nowrap; background-color: #ff9800; color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 16px; cursor: pointer; transition: background-color 0.2s; }
    .point-buttons button:hover { background-color: #fb8c00; }
    .add-idea { position: fixed; bottom: 15px; left: 15px; display: flex; gap: 8px; }
    .add-idea input { width: 200px; padding: 8px 12px; border: none; border-radius: 8px; background: rgba(255,255,255,0.5); font-size: 16px; outline: none; }
    .add-idea button { background-color: #90be6d; color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 16px; cursor: pointer; }
    footer { position: fixed; bottom: 5px; width: 100%; text-align: center; font-size: 14px; color: #ccc; }
    #startDrawingBtn { margin-top: 10px; width: 75%; max-width: 300px; }
/* ====== responsive Ù„Ù„ØªØ§Ø¨Ù„Øª ====== */
@media (max-width: 768px) {
  /* ØªØ®ÙÙŠÙ Ø¹Ø±Ø¶ ÙˆØ·ÙˆÙ„ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± */
  #sidebar {
    width: 150px;
    height: calc(100vh - 100px);
  }
  /* ØªØ¹Ø¯ÙŠÙ„ ÙƒØ±Øª Ø§Ù„ÙÙƒØ±Ø© Ù„ÙŠÙ…Ù„Ø£ Ø§Ù„Ø¹Ø±Ø¶ Ù†Ø³Ø¨ÙŠØ§Ù‹ */
  .card {
    width: 90%;
    max-width: 400px;
    height: auto;
    padding: 15px;
  }
  /* ØªØ®ÙÙŠÙ Ø­Ø¬Ù… Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
  #menu.active {
    grid-template-columns: repeat(2, 1fr);
    grid-auto-rows: 50px;
    gap: 15px;
  }
  .menu-btn {
    font-size: 18px;
  }
  /* ØªØµØºÙŠØ± Ø®Ø· Ø§Ù„Ù†Ù‚Ø§Ø· */
  #score {
    font-size: 32px;
    top: 5px;
    right: 5px;
  }
  /* Ø­Ù‚ÙˆÙ„ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙÙƒØ±Ø© */
  .add-idea input {
    width: 150px;
    font-size: 14px;
  }
  .add-idea button {
    padding: 6px 10px;
    font-size: 14px;
  }
  /* Ø²Ø± Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø³Ù… */
  #startDrawingBtn {
    width: 80%;
  }
}

/* ====== responsive Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ====== */
@media (max-width: 480px) {
  /* ØªØ¹Ø¯ÙŠÙ„ Ù…ÙƒØ§Ù† ÙˆØ­Ø¬Ù… Ø²Ø± Ø§Ù„Ø¨Ø±ØºØ± */
  #burgerButton {
    top: 10px;
    left: 10px;
    padding: 8px 10px;
    font-size: 20px;
  }
  /* Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± Ø£ØµØºØ± */
  #sidebar {
    top: 50px;
    left: 5px;
    width: 120px;
    height: calc(100vh - 60px);
  }
  /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¹Ù…ÙˆØ¯ ÙˆØ§Ø­Ø¯ */
  #menu.active {
    grid-template-columns: 1fr;
  }
  .menu-btn {
    font-size: 16px;
    padding: 8px 0;
  }
  .menu-btn.custom-btn {
    grid-column: 1 / -1;
  }
  /* ÙƒØ±Øª Ø§Ù„ÙÙƒØ±Ø© ÙŠÙ…Ù„Ø£ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ Ø§Ù„Ø¹Ø±Ø¶ ÙƒÙ„Ù‡ */
  .card {
    width: 95%;
    padding: 10px;
  }
  h1 {
    font-size: 20px;
  }
  button.main {
    font-size: 14px;
    padding: 8px 16px;
  }
  #idea {
    font-size: 16px;
    max-height: 80px;
  }
  #timer {
    font-size: 18px;
  }
  .time-buttons button,
  .point-buttons button {
    font-size: 14px;
    padding: 5px 10px;
  }
  /* Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙÙƒØ±Ø© Ø£ØµØºØ± ÙˆÙ…ÙØ­Ø§Ø°Ø§Ø© */
  .add-idea {
    bottom: 10px;
    left: 5px;
  }
  .add-idea input {
    width: 120px;
  }
}

  </style>
</head>
<body>
  <!-- Ø²Ø± Ø§Ù„Ø¨ÙˆØ±Ù‚Ø± (Ù‚Ø§Ø¦Ù…Ø©) -->
  <button id="burgerButton" onclick="toggleSidebar()">â˜°</button>

  <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
  <div id="sidebar"></div>

  <button class="back-btn" id="backBtn" onclick="showMenu()">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
  <div id="menu" class="active">
    <button class="menu-btn" onclick="init('easy')">Ø³Ù‡Ù„</button>
    <button class="menu-btn" onclick="init('medium')">Ù…ØªÙˆØ³Ø·</button>
    <button class="menu-btn" onclick="init('hard')">ØµØ¹Ø¨</button>
    <button class="menu-btn" onclick="init('random')">Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
    <button class="menu-btn custom-btn" onclick="init('custom')">Ù…Ø®ØµØµ</button>
  </div>
  <div id="score">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</div>
  <div id="card" class="card">
    <h1>ğŸ¨ ÙÙƒØ±Ø© Ø±Ø³Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©</h1>
    <button class="main" onclick="generateIdea()">Ø§Ø¹Ø·Ù†ÙŠ ÙÙƒØ±Ø©</button>
    <div id="idea"></div>
    <div id="timer"></div>
    <div class="time-buttons">
      <button onclick="startTimer()" id="startBtn" style="display:none;">â–¶ï¸ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¤Ù‚Øª</button>
      <button onclick="stopTimer()" id="stopBtn" style="display:none;">â¹ï¸ Ø£ÙˆÙ‚Ù Ø§Ù„Ù…Ø¤Ù‚Øª</button>
      <button onclick="resumeTimer()" id="resumeBtn" style="display:none;">â–¶ï¸ Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª</button>
    </div>
    <div class="point-buttons" id="pointButtons">
      <button id="finishEarlyBtn">Ø§Ù†ØªÙ‡ÙŠØª +0</button>
      <button id="finishLateBtn">Ø§Ù†ØªÙ‡ÙŠØª +0</button>
      <button id="failBtn">ÙØ´Ù„Øª +0</button>
    </div>
  </div>
  
  <!-- Ø²Ø± Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø³Ù… -->
  <button class="main" id="startDrawingBtn" style="display: none;" onclick="openDrawingPage()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø³Ù…</button>

  <div class="add-idea">
    <input id="newIdea" placeholder="Ø§ÙƒØªØ¨ ÙÙƒØ±ØªÙƒ Ù‡Ù†Ø§â€¦" />
    <button onclick="addIdea()">Ø¥Ø¶Ø§ÙØ© ÙÙƒØ±Ø©</button>
    <button onclick="removeIdea()">Ø­Ø°Ù ÙÙƒØ±Ø©</button>
  </div>
  <footer>âœ¨ ØµÙÙ†Ø¹ Ø¨Ø­Ø¨ Ø¨ÙˆØ§Ø³Ø·Ø© <strong>mereoleona â¤ï¸</strong></footer>
  <audio id="alarmSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
<script>
  // ØªÙØ¹ÙŠÙ„/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ
  function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('active');
  }

  const builtInIdeas = [
    "Ø§Ø±Ø³Ù… Ø±ÙˆØ¨ÙˆØª ÙŠØ­Ø§ÙˆÙ„ Ø§Ù„Ø·Ø¨Ø® Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙØªØ§Ø© ØªÙ‚Ø±Ø£ ÙƒØªØ§Ø¨Ù‹Ø§ ÙˆØ³Ø· Ø¹Ø§ØµÙØ© - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø³Ù…ÙƒØ© ØªØ·ÙŠØ± ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡ ÙˆØªÙ„Ø¨Ø³ Ù†Ø¸Ø§Ø±Ø§Øª - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´Ø®ØµÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø´ÙƒØ§Ù„ Ø¯Ø§Ø¦Ø±ÙŠØ© ÙÙ‚Ø· - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø­ÙŠÙˆØ§Ù† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø«Ù„Ø«Ø§Øª ÙÙ‚Ø· - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù†Øµ ÙˆØ¬Ù‡ Ø¥Ù†Ø³Ø§Ù† ÙˆÙ†Øµ ÙˆØ¬Ù‡ Ù‚Ø·Ø© - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¨ÙŠØª Ø¹Ù„Ù‰ Ø´ÙƒÙ„ ÙØ·Ø± - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ÙˆØ¬Ù‡ Ù…ÙƒÙˆÙ‘Ù† Ù…Ù† Ù†Ø¨Ø§ØªØ§Øª - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù…Ø¯ÙŠÙ†Ø© ÙÙˆÙ‚ Ø¸Ù‡Ø± ØªÙ†ÙŠÙ† - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø±ÙˆØ¨ÙˆØª ÙŠØ­Ø§ÙˆÙ„ Ø§Ù„Ø±Ù‚Øµ - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù‚Ø·Ø© ØªØ±ØªØ¯ÙŠ Ø¯Ø±Ø¹ ÙØ§Ø±Ø³ - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´Ø¬Ø±Ø© ÙÙŠÙ‡Ø§ Ø£Ø¨ÙˆØ§Ø¨ ÙˆÙ†ÙˆØ§ÙØ° - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ÙŠØ¯ ØªÙ…Ø³Ùƒ Ø§Ù„Ù…Ø¬Ø±Ø© - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´Ø®ØµÙŠØ© Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø¨ÙŠÙƒØ³Ù„ - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´Ø®ØµÙŠØ© Ø¨Ø¯ÙˆÙ† Ù…Ù„Ø§Ù…Ø­ - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ÙƒÙˆØ¨ Ø¹ØµÙŠØ± ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙƒÙˆØ§ÙƒØ¨ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¹Ø§Ù„Ù… Ø¯Ø§Ø®Ù„ Ù†Ø¸Ø§Ø±Ø© Ø´Ù…Ø³ÙŠØ© - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙØªØ§Ø© ØªØ±ØªØ¯ÙŠ ÙØ³ØªØ§Ù† Ù…Ù† Ø§Ù„Ø²Ù‡ÙˆØ± - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù…Ø¯ÙŠÙ†Ø© ØªØ­Øª Ø§Ù„Ø¨Ø­Ø± - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¹ÙŠÙ† ØªØ±Ù‰ Ø§Ù„ÙƒÙˆÙ† - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø­ÙŠÙˆØ§Ù† Ø®ÙŠØ§Ù„ÙŠ Ø¨Ø¯Ù…Ø¬ Ù£ Ø­ÙŠÙˆØ§Ù†Ø§Øª - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù†ÙØ³Ùƒ ÙƒÙƒØ±ØªÙˆÙ† - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø´Ø®ØµÙŠØ© Ù…Ù† Ø§Ù„Ø®Ù„Ù ÙÙ‚Ø· - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø³Ø§Ù†Ø¯ÙˆÙŠØªØ´ ÙÙŠÙ‡ Ù…Ø¯ÙŠÙ†Ø© - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø·ÙÙ„ ÙŠØ·ÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø¨Ø§Ù„ÙˆÙ†Ø§Øª - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¸Ù„ ÙŠØ®Ø§Ù„Ù Ø´ÙƒÙ„ ØµØ§Ø­Ø¨Ù‡ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù†Ø§ÙØ°Ø© ØªØ·Ù„ Ø¹Ù„Ù‰ Ø¹Ø§Ù„Ù… Ø®ÙŠØ§Ù„ÙŠ - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´Ø®ØµÙŠØ© Ù…Ø±Ø³ÙˆÙ…Ø© Ø¨Ø®Ø· ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ÙˆØ±Ø¯Ø© ØªÙ†Ù…Ùˆ Ù…Ù† ÙƒØªØ§Ø¨ - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¹Ø§Ù„Ù… Ø¯Ø§Ø®Ù„ Ù‚Ø·Ø±Ø© Ù…Ø§Ø¡ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù‚Ø·Ø© ØªØ¹Ø²Ù Ø¹Ù„Ù‰ Ø¢Ù„Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ© - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙƒØ±Ø³ÙŠ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ù…Ø®Ù„ÙˆÙ‚ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø·Ø±ÙŠÙ‚ ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ Ø§Ù„ÙØ¶Ø§Ø¡ - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙƒØ§Ø¦Ù† Ø´ÙØ§Ù - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø·Ø§ÙˆÙ„Ø© ÙØ·ÙˆØ± Ù„ÙƒÙ† Ø§Ù„Ø¹Ù†Ø§ØµØ± ØªØªØ­Ø±Ùƒ - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø¹Ø§Ù„Ù… Ø¯Ø§Ø®Ù„ Ù…ØµØ¨Ø§Ø­ - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø§Ù„Ø³Ø§Ø¹Ø© ÙˆÙ‡ÙŠ ØªØ°ÙˆØ¨ - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù…ÙØªØ§Ø­ Ù‚Ø¯ÙŠÙ… â€“ â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù‚Ù„Ø§Ø¯Ø© â€“ â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø±ÙŠØ´Ø© Ø·Ø§Ø¦Ø± â€“ â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ÙˆØ±Ø¯Ø© Ø°Ø§Ø¨Ù„Ø© â€“ â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù‚Ù†Ø¯ÙŠÙ„ Ø¨Ø­Ø± â€“ â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù„ÙˆØ­Ø© Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙÙŠ Ù…Ø¯ÙŠÙ†Ø© â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø®Ø±ÙŠØ·Ø© ÙƒÙ†Ø² â€“ â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ÙØªØ§Ø© ØªØ·ÙŠØ± ÙÙˆÙ‚ Ù…Ø¯ÙŠÙ†Ø© â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø¨Ø§Ù„ÙˆÙ†Ø§Øª ØªØ·ÙŠØ± ÙÙˆÙ‚ Ø¨Ø­Ø± â€“ â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¹ÙŠÙ† ØªÙ†Ø¹ÙƒØ³ ÙÙŠÙ‡Ø§ Ø´Ø¬Ø±Ø© â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙˆØ¬Ù‡ Ù…ØºØ·Ù‰ Ø¨Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ø´Ø¬Ø± â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø¯Ø±Ø¬ ÙŠØµÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø­Ø§Ø¨ â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´Ø§Ø±Ø¹ ÙÙŠ ÙŠÙˆÙ… Ù…Ù…Ø·Ø± â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø³ÙŠØ§Ø±Ø© ØªØ·ÙŠØ± ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡ â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø²Ø±Ø§ÙØ© ØªØ±ØªØ¯ÙŠ Ù‚Ø¨Ø¹Ø© ÙˆÙ†Ø¸Ø§Ø±Ø§Øª â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø®ÙŠÙ…Ø© Ø¹Ù„Ù‰ Ø¸Ù‡Ø± Ø³Ù„Ø­ÙØ§Ø© â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù‚Ø·Ø§Ø± ÙŠØ³ÙŠØ± Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¬ÙˆÙ… â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙØªØ§Ø© ØªØ±ÙƒØ¨ Ø¹Ù„Ù‰ Ø³Ù…ÙƒØ© Ø¶Ø®Ù…Ø© â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù‚Ù…Ø± Ù…Ù† Ø§Ù„Ø¬Ø¨Ù† â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù…Ø¯ÙŠÙ†Ø© Ø¯Ø§Ø®Ù„ Ø²Ø¬Ø§Ø¬Ø© â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø¨ÙŠØ¶Ø© ØªÙ†ÙƒØ³Ø± Ùˆ Ø¯Ø§Ø®Ù„Ù‡Ø§ Ø­Ø¯ÙŠÙ‚Ø© â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø·ÙÙ„ ÙŠØªØ²Ù„Ø¬ Ø¹Ù„Ù‰ Ù‚ÙˆØ³ Ù‚Ø²Ø­ â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø³ÙÙŠÙ†Ø© Ø·Ø§Ø¦Ø±Ø© ØªÙ…Ø± ÙÙˆÙ‚ Ø¬Ø¨Ø§Ù„ â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø¯Ø±Ø§Ø¬Ø© ØªØ·ÙŠØ± Ø¨Ø£Ø¬Ù†Ø­Ø© â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙƒÙˆÙƒØ¨ Ù„Ù‡ ÙˆØ¬Ù‡ Ø¥Ù†Ø³Ø§Ù†ÙŠ â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù„ÙŠÙ…ÙˆÙ†Ø© ÙÙŠÙ‡Ø§ Ø¨Ø­Ø± â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù‚Ø¨Ø¹Ø© ØªØ·ÙŠØ± â€“ â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø´Ø¬Ø±Ø© Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ø¥Ù†Ø³Ø§Ù† â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø¨ÙŠØ¶Ø© Ø¯ÙŠÙ†Ø§ØµÙˆØ± Ø¹Ù„Ù‰ ÙˆØ´Ùƒ Ø§Ù„ÙÙ‚Ø³ â€“ â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù‚Ø§Ø±Ø¨ ÙˆØ±Ù‚ÙŠ ÙÙŠ Ø¨Ø­Ø± â€“ â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ÙƒÙˆØ¨ Ø´Ø§ÙŠ ÙÙŠÙ‡ Ø³Ù…Ø§Ø¡ ÙˆØºÙŠÙˆÙ… â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø­Ø§Ø³Ø¨Ø© ÙÙŠÙ‡Ø§ Ù‚Ø·Ø© â€“ â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù‚Ù„Ø¨ ÙÙŠÙ‡ Ù…Ø¯ÙŠÙ†Ø© â€“ â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙƒÙˆØ¨ Ù‚Ù‡ÙˆØ© Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ø¬Ø¨Ù„ â€“ â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù†Øµ ÙˆØ¬Ù‡ Ø¥Ù†Ø³Ø§Ù† ÙˆÙ†Øµ ÙˆØ¬Ù‡ Ø±ÙˆØ¨ÙˆØª - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø¯ÙŠÙ†Ø§ØµÙˆØ± ÙŠØ±ÙƒØ¨ Ø¯Ø±Ø§Ø¬Ø© - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙØ¶Ø§Ø¡ Ø¨Ø¯ÙˆÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆÙ† Ø£Ø³ÙˆØ¯ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø·ÙÙ„ ÙŠØ±ÙƒØ¨ Ø¹Ù„Ù‰ Ø³Ø­Ø§Ø¨Ø© - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù…Ø¯ÙŠÙ†Ø© ÙÙˆÙ‚ Ø³Ù„Ø­ÙØ§Ø© Ø¹Ù…Ù„Ø§Ù‚Ø© - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø³Ø­Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ù†Ø§Ø·Ø­Ø© Ø³Ø­Ø§Ø¨ - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø³Ø§Ø¹Ø© Ø¨Ø¯ÙˆÙ† Ø£Ø±Ù‚Ø§Ù… - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù…Ø´Ø§Ø¹Ø±Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙƒÙƒØ§Ø¦Ù† - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø¨Ø§Ø¨ Ù…ÙØªÙˆØ­ Ø¹Ù„Ù‰ Ø¹Ø§Ù„Ù… Ø¢Ø®Ø± - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´ÙŠØ¡ ØºÙŠØ± Ø­ÙŠ ÙƒØ£Ù†Ù‡ Ø­ÙŠ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø­ÙŠÙˆØ§Ù† Ø¨Ø¹ÙŠÙ† ÙˆØ§Ø­Ø¯Ø© ÙƒØ¨ÙŠØ±Ø© Ø¬Ø¯Ù‹Ø§ - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¨Ø­Ø± Ù…Ù‚Ù„ÙˆØ¨ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø£Ø³Ø¯ Ù†Ø§Ø¦Ù… ÙˆØ³Ø· Ø²Ù‡ÙˆØ± - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø­Ù‚ÙŠØ¨Ø© Ù…Ù„ÙŠØ¦Ø© Ø¨Ø§Ù„ÙƒÙˆØ§ÙƒØ¨ - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ØºÙŠÙ…Ø© Ø¹Ù„Ù‰ Ù‡ÙŠØ¦Ø© Ù‚Ø·Ø© - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¨ÙŠØª Ù…Ù† Ø§Ù„ÙˆØ±Ù‚ - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø²Ù‡Ø±Ø© Ø¯Ø§Ø®Ù„ Ù…ØµØ¨Ø§Ø­ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¥Ù†Ø³Ø§Ù† Ù†ØµÙÙ‡ Ø´ØªØ§Ø¡ ÙˆÙ†ØµÙÙ‡ ØµÙŠÙ - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø²Ù‡Ø±Ø© ØºØ±ÙŠØ¨Ø© Ø§Ù„Ø´ÙƒÙ„ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø­ÙŠÙˆØ§Ù† Ø¨Ø£Ø±Ø¨Ø¹ Ø£Ø¹ÙŠÙ† - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø³Ø§Ø¹Ø© Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ø²Ù‡Ø±Ø© - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù‚Ø·Ø© Ø¯Ø§Ø®Ù„ ØªÙ„ÙØ§Ø² Ù‚Ø¯ÙŠÙ… - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù…Ø¯ÙŠÙ†Ø© ØµØºÙŠØ±Ø© ÙÙˆÙ‚ Ø³Ø­Ø§Ø¨Ø© - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´Ø¬Ø±Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆÙ‡ - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙŠØ¯ Ø´ÙØ§ÙØ© - â±ï¸ 5 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ù‚Ø·Ø© ØªÙ†Ø§Ù… ÙÙˆÙ‚ ÙƒÙˆÙƒØ¨ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ØºÙŠÙ…Ø© ØªÙ…Ø·Ø± Ù‚Ù„ÙˆØ¨Ù‹Ø§ - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø´Ù…Ø³ Ù„Ù‡Ø§ ÙˆØ¬Ù‡ - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… ÙƒÙˆÙƒØ¨ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ ÙØ§ÙƒÙ‡Ø© - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù…Ø¯ÙŠÙ†Ø© Ù…Ø¹Ù„Ù‚Ø© - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø´Ø¬Ø±Ø© ØªÙ†Ø¨Øª Ù…Ù†Ù‡Ø§ Ø§Ù„Ù…ØµØ§Ø¨ÙŠØ­ - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… ÙˆØ¬Ù‡Ù‹Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø· - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø²Ø±Ø§ÙØ© ØªØ·Ù„ Ù…Ù† Ù†Ø§ÙØ°Ø© - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø²Ù‡Ø±Ø© ØªØªÙØªØ­ ÙˆÙÙŠ Ø¯Ø§Ø®Ù„Ù‡Ø§ Ø¹ÙŠÙ† - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¨Ø·Ø© ÙÙˆÙ‚ Ù„ÙˆØ­ ØªØ²Ù„Ø¬ - â±ï¸ 5 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ø¨Ø·Ø±ÙŠÙ‚ ÙÙŠ Ø§Ù„ØµØ­Ø±Ø§Ø¡ - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "Ø§Ø±Ø³Ù… Ù‚Ø·Ø§Ø± ÙŠÙ…Ø± ÙÙŠ Ø¨Ø­Ø± - â±ï¸ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
    "Ø§Ø±Ø³Ù… Ø®Ø±ÙŠØ·Ø© Ù„Ø¹Ø§Ù„Ù… Ø®ÙŠØ§Ù„ÙŠ - â±ï¸ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
  ];

  const savedIdeas = JSON.parse(localStorage.getItem('customIdeas') || '[]');
  const customSet = new Set(savedIdeas);
  let allIdeas = [...builtInIdeas, ...savedIdeas];
  const groups = { easy: [], medium: [], hard: [], custom: savedIdeas };
  allIdeas.forEach(txt => {
    const m = txt.match(/â±ï¸\s*(\d+)/);
    const minutes = m ? parseInt(m[1], 10) : 10;
    if (minutes <= 10) groups.easy.push(txt);
    else if (minutes <= 20) groups.medium.push(txt);
    else groups.hard.push(txt);
  });
  const usedByLevel = { easy: new Set(), medium: new Set(), hard: new Set(), random: new Set(), custom: new Set() };
  let prevLevel = null, currentLevel = null;
  let currentSet = [], used, timerInterval, initialDuration, remainingTime, points = 0, currentIdea = '';
  const scoreEl = document.getElementById('score');
  const backBtn = document.getElementById('backBtn');
  const menuEl = document.getElementById('menu');
  const cardEl = document.getElementById('card');
  const startBtn = document.getElementById('startBtn');
  const stopBtn = document.getElementById('stopBtn');
  const resumeBtn = document.getElementById('resumeBtn');
  const pointButtons = document.getElementById('pointButtons');
  const finishEarlyBtn = document.getElementById('finishEarlyBtn');
  const finishLateBtn = document.getElementById('finishLateBtn');
  const failBtn = document.getElementById('failBtn');
  const ideaEl = document.getElementById('idea');
  const timerEl = document.getElementById('timer');

  function openDrawingPage() {
    window.open('https://my-drawing-tool.pages.dev/', '_blank');
  }

  function showMenu() {
    clearInterval(timerInterval);
    timerEl.innerText = '';
    startBtn.style.display = stopBtn.style.display = resumeBtn.style.display = 'none';
    pointButtons.style.display = 'none';
    menuEl.classList.add('active'); cardEl.classList.remove('active'); backBtn.classList.remove('show');
  }

  function init(level) {
    if (prevLevel !== level) usedByLevel[level].clear(); prevLevel = level;
    clearInterval(timerInterval); timerEl.innerText = '';
    startBtn.style.display = stopBtn.style.display = resumeBtn.style.display = 'none';
    pointButtons.style.display = 'none'; ideaEl.innerText = '';
    currentLevel = level;
    currentSet = level === 'random' ? allIdeas : level === 'custom' ? savedIdeas : groups[level];
    used = usedByLevel[level];
    if (level === 'custom' && savedIdeas.length === 0) {
      ideaEl.innerText = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙÙƒØ§Ø± Ù…Ø¶Ø§ÙØ©.\nÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£ÙÙƒØ§Ø± Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ù†Ø© Ø¨Ø§Ù„ÙŠØ³Ø§Ø±.';
      document.querySelector('button.main').style.display = 'none';
    } else {
      ideaEl.style.textAlign = 'center';
      document.querySelector('button.main').style.display = 'inline-block';
    }
    menuEl.classList.remove('active'); cardEl.classList.add('active'); backBtn.classList.add('show');
  }

  function generateIdea() {
    clearInterval(timerInterval); timerEl.innerText = '';
    startBtn.style.display = stopBtn.style.display = resumeBtn.style.display = 'none';
    pointButtons.style.display = 'none'; ideaEl.style.textAlign = 'center';
    if (used.size === currentSet.length) { ideaEl.innerText = 'ØªÙ… Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø£ÙÙƒØ§Ø±!'; return; }
    let txt; do { txt = currentSet[Math.floor(Math.random()*currentSet.length)]; } while (used.has(txt));
    used.add(txt);
    ideaEl.innerText = txt; currentIdea = txt;
    const m = txt.match(/â±ï¸\s*(\d+)/);
    if (m) { initialDuration = parseInt(m[1],10)*60; remainingTime = initialDuration; startBtn.style.display = 'inline-block'; }
  }

  function calculatePrimary() { return customSet.has(currentIdea)?10: initialDuration===300?10: initialDuration===600?20: initialDuration===900?30: initialDuration===1800?50:0; }
  function calculateLate() { return calculatePrimary()/2; }

  function updateTimer() { const m=Math.floor(remainingTime/60), s=remainingTime%60; timerEl.innerText = `â±ï¸ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${m}:${s<10?'0':''}${s}`; }
  function startTimer() {
    startBtn.style.display='none'; stopBtn.style.display='inline-block'; resumeBtn.style.display='none'; pointButtons.style.display='flex';
    document.getElementById('startDrawingBtn').style.display = 'inline-block';
    finishEarlyBtn.style.display='inline-block'; finishLateBtn.style.display=failBtn.style.display='none';
    finishEarlyBtn.textContent = `Ø§Ù†ØªÙ‡ÙŠØª +${calculatePrimary()}`; updateTimer();
    timerInterval = setInterval(() => {
      remainingTime--;
      if (remainingTime<=0) {
        clearInterval(timerInterval);
        timerEl.innerText='â±ï¸ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!';
        stopBtn.style.display=resumeBtn.style.display='none';
        finishEarlyBtn.style.display='none';
        finishLateBtn.style.display=failBtn.style.display='inline-block';
        finishLateBtn.textContent=`Ø§Ù†ØªÙ‡ÙŠØª +${calculateLate()}`;
        playAlarmRepeatedly(4);
      } else updateTimer();
    },1000);
  }
  function stopTimer() { clearInterval(timerInterval); timerEl.innerText='â±ï¸ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª.'; stopBtn.style.display='none'; resumeBtn.style.display='inline-block'; }
  function resumeTimer() { resumeBtn.style.display='none'; startTimer(); }

  finishEarlyBtn.onclick = () => {
    clearInterval(timerInterval);
    points += calculatePrimary();
    scoreEl.textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${points}`;
    generateIdea();
    document.getElementById('startDrawingBtn').style.display = 'none';
  };
  finishLateBtn.onclick = () => {
    clearInterval(timerInterval);
    points += calculateLate();
    scoreEl.textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${points}`;
    generateIdea();
    document.getElementById('startDrawingBtn').style.display = 'none';
  };
  failBtn.onclick = () => {
    clearInterval(timerInterval);
    scoreEl.textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${points}`;
    generateIdea();
    document.getElementById('startDrawingBtn').style.display = 'none';
  };

  function addIdea() {
    const txt = document.getElementById('newIdea').value.trim(); if (!txt) return;
    const formatted = `${txt} - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚`;
    allIdeas.push(formatted); savedIdeas.push(formatted); customSet.add(formatted);
    localStorage.setItem('customIdeas', JSON.stringify(savedIdeas)); groups.custom = savedIdeas;
    document.getElementById('newIdea').value = '';
    alert('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ÙÙƒØ±ØªÙƒ!');
  }

  function removeIdea() {
    const txt = document.getElementById('newIdea').value.trim(); if (!txt) return alert('Ø§ÙƒØªØ¨ Ø§Ù„ÙÙƒØ±Ø© Ù„Ø­Ø°ÙÙ‡Ø§.');
    const formatted = `${txt} - â±ï¸ 10 Ø¯Ù‚Ø§Ø¦Ù‚`;
    const idx = savedIdeas.indexOf(formatted); if (idx === -1) return alert('Ù‡Ø°Ù‡ Ø§Ù„ÙÙƒØ±Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©.');
    savedIdeas.splice(idx, 1); allIdeas = allIdeas.filter(i=>i!==formatted); customSet.delete(formatted);
    localStorage.setItem('customIdeas', JSON.stringify(savedIdeas)); groups.custom = savedIdeas;
    document.getElementById('newIdea').value = '';
    alert('ØªÙ… Ø­Ø°Ù Ø§Ù„ÙÙƒØ±Ø©!');
  }

  function playAlarmRepeatedly(times) {
    const alarm = document.getElementById('alarmSound'); let count = 0;
    const play = () => { if (count < times) { alarm.currentTime = 0; alarm.play(); count++; setTimeout(play, 1000); }};
    play();
  }

  // === Ù…Ø¹Ø±Ø¶ Ø¬Ø§Ù†Ø¨ÙŠ Ù…Ø¹ 5 ØµÙˆØ± Ù…Ø«Ø§Ù„ Ø¨Ø§Ø³Ù… ChatGPT ===
  const galleryItems = [
    { url: 'https://i.imgur.com/736gYsA.jpeg', name: 'Sarah' },
    { url: 'https://i.imgur.com/XAvFHFZ.jpeg', name: 'ChatGPT' },
    { url: 'https://i.imgur.com/6qg3Q95.jpeg', name: 'ChatGPT' },
    { url: 'https://i.imgur.com/yVKBqwQ.jpeg', name: 'ChatGPT' },
    { url: 'https://i.imgur.com/Bi3YA7p.jpeg', name: 'ChatGPT' },
  ];

 function renderGallery() {
  const sidebar = document.getElementById('sidebar');
  sidebar.innerHTML = '';
  galleryItems.forEach(item => {
    const div = document.createElement('div');
    div.className = 'gallery-item';
    const img = document.createElement('img');
    img.src = item.url;
    img.alt = item.name;
    img.addEventListener('click', e => {
      e.stopPropagation();
      // Ø¥Ù†Ø´Ø§Ø¡ Ø·Ø¨Ù‚Ø© Ø§Ù„Ù€ overlay
      const overlay = document.createElement('div');
      overlay.className = 'overlay';
      // Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„ØµÙˆØ±Ø© ÙˆÙˆØ¶Ø¹Ù‡Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ overlay
      const enlargedImg = img.cloneNode();
      overlay.appendChild(enlargedImg);
      document.body.appendChild(overlay);
      // Ù…Ù†Ø¹ ØºÙ„Ù‚ Ø§Ù„Ù€ overlay Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù†ÙØ³Ù‡Ø§
      enlargedImg.addEventListener('click', e => e.stopPropagation());
      // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬ Ø§Ù„ØµÙˆØ±Ø© (Ø¹Ù„Ù‰ Ø§Ù„Ù€ overlay) Ù†Ø²ÙŠÙ„Ù‡Ø§
      overlay.addEventListener('click', () => overlay.remove());
    });
    div.appendChild(img);
    const caption = document.createElement('div');
    caption.className = 'caption';
    caption.innerText = item.name;
    div.appendChild(caption);
    sidebar.appendChild(div);
  });
}


  document.addEventListener('click', () => {
    document.querySelectorAll('.gallery-item img.enlarged').forEach(i => i.classList.remove('enlarged'));
  });

  renderGallery();
</script>
</body>
</html>
